---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


## Loading and preprocessing the data
We start with the data as a zip file. We need to use the `unz()` function to access the CSV file in the zip:

```{r}
activityTable <- read.csv(unz("activity.zip", "activity.csv"))
str(activityTable)
```

Now we need to pre-process the data in a couple of different ways. First of all, the dates are factors. We want
them as dates. Secondly, the intervals are integers, but they represent clock values (135 represents 1:35 am -
you'll notice there is no 60 or 160 interval). We'll turn these into strings that represent 24-hour clock times,
and then interpret them as factors.

```{r}
activityTable$date <- as.Date(activityTable$date)
# This one's a little more complicated - interpret it as a string, break into two, then
# back into an integer:
clockTimeString <- function(interval) {
        if (interval < 60) {
                minutes <- interval
                hours <- 0
        } else {
                minutes <- interval %% 100
                hours <- trunc(interval / 100)
        }

        sprintf('%02d:%02d', hours, minutes)
}
activityTable$interval <- as.factor(sapply(activityTable$interval, clockTimeString))
str(activityTable)
```
## What is mean total number of steps taken per day?
To calculate the total number of steps per day, we group by day and sum steps. We'll create a histogram and
output the mean and median.
```{r}
stepsPerDay <- aggregate(. ~ date, data=activityTable, FUN=sum)
meanStepsPerDay <- mean(stepsPerDay[, "steps"])
medianStepsPerDay <- median(stepsPerDay[, "steps"])
hist(stepsPerDay[, "steps"], 8, xlab="Steps per day", ylab="Number of days",
     main="Histogram of number of steps per day")
```

The mean steps per day is `r sprintf("%.1f", meanStepsPerDay)` and the median is `r medianStepsPerDay`.
These are very similar, so we can infer that the data is evenly divided around the mean (the histogram
supports this).


## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
